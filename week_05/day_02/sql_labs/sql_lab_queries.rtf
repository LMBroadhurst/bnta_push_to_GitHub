{\rtf1\ansi\ansicpg1252\cocoartf2638
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 Menlo-Regular;}
{\colortbl;\red255\green255\blue255;\red22\green23\blue255;\red0\green0\blue0;\red15\green0\blue170;
\red176\green122\blue28;\red17\green127\blue28;}
{\*\expandedcolortbl;;\cssrgb\c11765\c23529\c100000;\csgray\c0;\cssrgb\c7843\c11765\c72549;
\cssrgb\c74902\c54902\c14118;\cssrgb\c0\c55686\c14510;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab577
\pard\pardeftab577\pardirnatural\partightenfactor0

\f0\fs24 \cf2 CREATE\cf3  \cf2 TABLE\cf3  enclosure (\
	id SERIAL \cf2 PRIMARY\cf3  \cf4 KEY\cf3 ,\
	\cf4 name\cf3  \cf4 VARCHAR\cf3 (255),\
	capacity \cf4 INT\cf3 ,\
	closedForMaintenance \cf4 BOOLEAN\cf3 \
);\
\
\cf2 CREATE\cf3  \cf2 TABLE\cf3  staff (\
	id SERIAL \cf2 PRIMARY\cf3  \cf4 KEY\cf3 ,\
	\cf4 name\cf3  \cf4 VARCHAR\cf3 (255),\
	employee_number \cf4 INT\cf3 \
);\
\
\cf2 CREATE\cf3  \cf2 TABLE\cf3  assignments (\
	id SERIAL \cf2 PRIMARY\cf3  \cf4 KEY\cf3 ,\
	employee_ID \cf4 INT\cf3  \cf2 REFERENCES\cf3  staff(id),\
	enclosure_ID \cf4 INT\cf3  \cf2 REFERENCES\cf3  enclosure(id),\
	\cf4 day\cf3  \cf4 VARCHAR\cf3 (255)\
);\
\
\cf2 CREATE\cf3  \cf2 TABLE\cf3  animal (\
	id SERIAL \cf2 PRIMARY\cf3  \cf4 KEY\cf3 ,\
	\cf4 name\cf3  \cf4 VARCHAR\cf3 (255),\
	\cf4 type\cf3  \cf4 VARCHAR\cf3 (255),\
	age \cf4 INT\cf3 ,\
	enclosure_id \cf4 INT\cf3  \cf2 REFERENCES\cf3  enclosure(id)\
);\
\
\cf4 INSERT\cf3  \cf2 INTO\cf3  animal (\cf4 name\cf3 , \cf4 type\cf3 , age, enclosure_ID) \cf4 VALUES\cf3  (\cf5 'Tony'\cf3 , \cf5 'Tiger'\cf3 , 59, 1);\
\
\cf4 INSERT\cf3  \cf2 INTO\cf3  enclosure (\cf4 name\cf3 , capacity, closedForMaintenance) \cf4 VALUES\cf3  (\cf5 'big cat field'\cf3 , 20, \cf2 false\cf3 );\
\cf4 INSERT\cf3  \cf2 INTO\cf3  enclosure (\cf4 name\cf3 , capacity, closedForMaintenance) \cf4 VALUES\cf3  (\cf5 'bird cage'\cf3 , 10, \cf2 true\cf3 );\
\cf4 INSERT\cf3  \cf2 INTO\cf3  enclosure (\cf4 name\cf3 , capacity, closedForMaintenance) \cf4 VALUES\cf3  (\cf5 'igloo'\cf3 , 1, \cf2 true\cf3 );\
\cf4 INSERT\cf3  \cf2 INTO\cf3  enclosure (\cf4 name\cf3 , capacity, closedForMaintenance) \cf4 VALUES\cf3  (\cf5 'water tank'\cf3 , 20, \cf2 false\cf3 );\
\cf4 INSERT\cf3  \cf2 INTO\cf3  enclosure (\cf4 name\cf3 , capacity, closedForMaintenance) \cf4 VALUES\cf3  (\cf5 'monkey cage'\cf3 , 5, \cf2 false\cf3 );\
\
\cf4 INSERT\cf3  \cf2 INTO\cf3  animal (\cf4 name\cf3 , \cf4 type\cf3 , age, enclosure_id) \cf4 VALUES\cf3  (\cf5 'Tony'\cf3 , \cf5 'Tiger'\cf3 , 59, 1);\
\cf4 INSERT\cf3  \cf2 INTO\cf3  animal (\cf4 name\cf3 , \cf4 type\cf3 , age, enclosure_id) \cf4 VALUES\cf3  (\cf5 'Polly'\cf3 , \cf5 'Parrot'\cf3 , 10, 2);\
\cf4 INSERT\cf3  \cf2 INTO\cf3  animal (\cf4 name\cf3 , \cf4 type\cf3 , age, enclosure_id) \cf4 VALUES\cf3  (\cf5 'Pingu'\cf3 , \cf5 'Penguin'\cf3 , 5, 3);\
\cf4 INSERT\cf3  \cf2 INTO\cf3  animal (\cf4 name\cf3 , \cf4 type\cf3 , age, enclosure_id) \cf4 VALUES\cf3  (\cf5 'Nemo'\cf3 , \cf5 'Clown Fish'\cf3 , 6, 4);\
\cf4 INSERT\cf3  \cf2 INTO\cf3  animal (\cf4 name\cf3 , \cf4 type\cf3 , age, enclosure_id) \cf4 VALUES\cf3  (\cf5 'Harambe'\cf3 , \cf5 'Gorilla'\cf3 , 20, 5);\
\
\cf4 INSERT\cf3  \cf2 INTO\cf3  staff (\cf4 name\cf3 , employee_number) \cf4 VALUES\cf3  (\cf5 'Nikesh'\cf3 , 100);\
\cf4 INSERT\cf3  \cf2 INTO\cf3  staff (\cf4 name\cf3 , employee_number) \cf4 VALUES\cf3  (\cf5 'Lewis'\cf3 , 200);\
\cf4 INSERT\cf3  \cf2 INTO\cf3  staff (\cf4 name\cf3 , employee_number) \cf4 VALUES\cf3  (\cf5 'Colin'\cf3 , 300);\
\cf4 INSERT\cf3  \cf2 INTO\cf3  staff (\cf4 name\cf3 , employee_number) \cf4 VALUES\cf3  (\cf5 'Lucas'\cf3 , 400);\
\cf4 INSERT\cf3  \cf2 INTO\cf3  staff (\cf4 name\cf3 , employee_number) \cf4 VALUES\cf3  (\cf5 'Michael'\cf3 , 500);\
\
\cf4 INSERT\cf3  \cf2 INTO\cf3  assignments (employee_ID, enclosure_ID, \cf4 day\cf3 ) \cf4 VALUES\cf3  (1, 2, \cf5 'Monday'\cf3 );\
\cf4 INSERT\cf3  \cf2 INTO\cf3  assignments (employee_ID, enclosure_ID, \cf4 day\cf3 ) \cf4 VALUES\cf3  (2, 2, \cf5 'Tuesday'\cf3 );\
\cf4 INSERT\cf3  \cf2 INTO\cf3  assignments (employee_ID, enclosure_ID, \cf4 day\cf3 ) \cf4 VALUES\cf3  (3, 3, \cf5 'Monday'\cf3 );\
\cf4 INSERT\cf3  \cf2 INTO\cf3  assignments (employee_ID, enclosure_ID, \cf4 day\cf3 ) \cf4 VALUES\cf3  (4, 3, \cf5 'Tuesday'\cf3 );\
\cf4 INSERT\cf3  \cf2 INTO\cf3  assignments (employee_ID, enclosure_ID, \cf4 day\cf3 ) \cf4 VALUES\cf3  (5, 3, \cf5 'Wednesday'\cf3 );\
\
\cf6 -- The names of the animals in a given enclosure\cf3 \
\
\cf2 SELECT\cf3  animal.\cf4 name\cf3 , animal.\cf4 type\cf3 , enclosure.\cf4 name\cf3 \
\cf2 FROM\cf3  enclosure\
\cf2 INNER\cf3  \cf2 JOIN\cf3  animal\
\cf2 ON\cf3  enclosure.id = animal.enclosure_id;\
\
\cf6 -- The names of the staff working in a given enclosure\cf3 \
\
\cf2 SELECT\cf3  *\
\cf2 FROM\cf3  enclosure\
\cf2 INNER\cf3  \cf2 JOIN\cf3  staff\
\cf2 ON\cf3  enclosure.id = staff.id\
\cf2 INNER\cf3  \cf2 JOIN\cf3  assignments\
\cf2 ON\cf3  enclosure.id = assignments.enclosure_id;\
\
\cf6 -- The names of staff working in enclosures which are closed for maintenance\cf3 \
\
\cf2 SELECT\cf3  staff.\cf4 name\cf3 , enclosure.\cf4 name\cf3 , enclosure.closedformaintenance\
\cf2 FROM\cf3  assignments\
\cf2 INNER\cf3  \cf2 JOIN\cf3  staff\
\cf2 ON\cf3  staff.id = assignments.employee_id\
\cf2 INNER\cf3  \cf2 JOIN\cf3  enclosure\
\cf2 ON\cf3  enclosure.id = assignments.enclosure_id\
\cf2 WHERE\cf3  closedForMaintenance = \cf2 true\cf3 ;\
\
\cf6 -- The name of the enclosure where the oldest animal lives. If there are two animals who are the same age choose the first one alphabetically.\cf3 \
\
\cf2 SELECT\cf3  enclosure.\cf4 name\cf3 , animal.\cf4 name\cf3 , animal.age \
\cf2 FROM\cf3  animal\
\cf2 INNER\cf3  \cf2 JOIN\cf3  enclosure\
\cf2 ON\cf3  enclosure.id = animal.enclosure_id\
\cf2 WHERE\cf3  age = (\cf2 SELECT\cf3  MAX (animal.age) \cf2 FROM\cf3  animal);\
\
\cf6 -- The number of different animal types a given keeper has been assigned to work with.\cf3 \
\
\cf6 -- The number of different keepers who have been assigned to work in a given enclosure\cf3 \
\
\cf6 -- The names of the other animals sharing an enclosure with a given animal (eg. find the names of all the animals sharing the big cat field with Tony)\cf3 \
\
\cf4 INSERT\cf3  \cf2 INTO\cf3  animal (\cf4 name\cf3 , \cf4 type\cf3 , age, enclosure_id) \cf4 VALUES\cf3  (\cf5 'Terry'\cf3 , \cf5 'Tiger'\cf3 , 69, 1);\
\cf4 INSERT\cf3  \cf2 INTO\cf3  animal (\cf4 name\cf3 , \cf4 type\cf3 , age, enclosure_id) \cf4 VALUES\cf3  (\cf5 'Tyrone'\cf3 , \cf5 'Tiger'\cf3 , 79, 1);\
\cf4 INSERT\cf3  \cf2 INTO\cf3  animal (\cf4 name\cf3 , \cf4 type\cf3 , age, enclosure_id) \cf4 VALUES\cf3  (\cf5 'Timmy'\cf3 , \cf5 'Tiger'\cf3 , 79, 1);\
\
\cf2 SELECT\cf3  animal.\cf4 name\cf3 \
\cf2 FROM\cf3  animal\
\cf2 INNER\cf3  \cf2 JOIN\cf3  enclosure\
\cf2 ON\cf3  enclosure.id = animal.enclosure_id\
\cf2 WHERE\cf3  enclosure.\cf4 name\cf3  = \cf5 'big cat field'\cf3  \cf2 AND\cf3  \cf2 NOT\cf3  animal.\cf4 name\cf3  = \cf5 'Tony'\cf3 ;\
}